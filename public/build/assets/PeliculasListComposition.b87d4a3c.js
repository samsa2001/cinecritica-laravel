import{G as w}from"./Grilla.809cd627.js";import{V as P}from"./Votar.2cd004ea.js";import{a as C}from"./axios.0ae12843.js";import{_ as x,h as p,u as b,i as k,r as i,o as _,c as h,a as t,b as l,w as s,g as y,e as U,F as B,d}from"./main.9ab2d406.js";/* empty css            */const G={components:{Grilla:w,Votar:P},setup(){const n=p([]),e=p(!0),u=p("fecha"),o=p(1),m=b();k(async()=>{m.params.page&&(o.value=m.params.page),r(),document.title=window.location.href});function g(){window.scrollTo(0,0),setTimeout(r,100)}function r(){e.value=!0;const c=u.value=="fecha"?"/api/peliculas/index?page="+o.value:u.value=="popularidad"?"/api/peliculas/popularidad?page="+o.value:"/api/peliculas/votos?page="+o.value;C.get(c).then(f=>{n.value=f.data,document.title=window.location.href})}return{posts:n,isLoading:e,orden:u,currentPage:o,updatePage:g}}},N={class:"flex lg:flex-row flex-col justify-between items-center"},A=t("h1",null,"Listado de pel\xEDculas",-1),D={class:"ordenacion"},L=d(" Ordenar por fecha estreno "),O=d(" Ordenar por popularidad "),T=d(" Ordenar por n\xFAmero votos "),q=t("br",null,null,-1),E=t("div",{class:"p-4"},[t("p",null,"\xBFSeguro que quieres eliminar el registro selecionado?")],-1),F={class:"flex flex-row-reverse gap-2 bg-gray-100 p-3"},j=d("Eliminar"),z=d("Cancelar");function M(n,e,u,o,m,g){const r=i("o-radio"),c=i("Grilla"),f=i("o-pagination"),v=i("o-button"),V=i("o-modal");return _(),h(B,null,[t("div",null,[t("div",N,[A,t("div",D,[l(r,{modelValue:o.orden,"onUpdate:modelValue":[e[0]||(e[0]=a=>o.orden=a),e[1]||(e[1]=a=>o.updatePage())],name:"name","native-value":"fecha"},{default:s(()=>[L]),_:1},8,["modelValue"]),l(r,{modelValue:o.orden,"onUpdate:modelValue":[e[2]||(e[2]=a=>o.orden=a),e[3]||(e[3]=a=>o.updatePage())],name:"name","native-value":"popularidad"},{default:s(()=>[O]),_:1},8,["modelValue"]),l(r,{modelValue:o.orden,"onUpdate:modelValue":[e[4]||(e[4]=a=>o.orden=a),e[5]||(e[5]=a=>o.updatePage())],name:"name","native-value":"numVotos"},{default:s(()=>[T]),_:1},8,["modelValue"])])]),l(c,{posts:o.posts.data,tipo:"pelicula",columnas:"5",gap:"12"},null,8,["posts"]),q,o.posts.current_page&&o.posts.data.length>0?(_(),y(f,{key:0,onChange:o.updatePage,total:o.posts.total,current:o.currentPage,"onUpdate:current":e[6]||(e[6]=a=>o.currentPage=a),"range-before":2,"range-after":3,order:"centered",size:"medium",simple:!1,rounded:!0,"per-page":o.posts.per_page},null,8,["onChange","total","current","per-page"])):U("",!0)]),l(V,{active:n.confirmDeleteActive,"onUpdate:active":e[9]||(e[9]=a=>n.confirmDeleteActive=a)},{default:s(()=>[E,t("div",F,[l(v,{variant:"danger",onClick:e[7]||(e[7]=a=>n.deletePost())},{default:s(()=>[j]),_:1}),l(v,{onClick:e[8]||(e[8]=a=>n.confirmDeleteActive=!1)},{default:s(()=>[z]),_:1})])]),_:1},8,["active"])],64)}const J=x(G,[["render",M]]);export{J as default};
