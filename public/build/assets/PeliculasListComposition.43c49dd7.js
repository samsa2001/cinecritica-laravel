import{G as P}from"./Grilla.bea3b777.js";import{V as C}from"./Votar.4fcb9900.js";import{a as b}from"./axios.0ae12843.js";import{_ as x,h as p,u as k,i as w,r as d,o as _,c as y,a as t,b as l,w as s,g as U,e as B,F as G,d as i}from"./main.4099116f.js";const N={components:{Grilla:P,Votar:C},setup(){const n=p([]),e=p(!0),u=p("fecha"),o=p(1),m=k();w(async()=>{m.params.page&&(o.value=m.params.page),r()});function f(){setTimeout(r,100)}function r(){e.value=!0;const c=u.value=="fecha"?"/api/peliculas?page="+o.value:u.value=="popularidad"?"/api/peliculas/popularidad?page="+o.value:"/api/peliculas/votos?page="+o.value;b.get(c).then(g=>{n.value=g.data})}return{posts:n,isLoading:e,orden:u,currentPage:o,updatePage:f}}},h={class:"flex lg:flex-row flex-col justify-between items-center"},A=t("h1",null,"Listado de pel\xEDculas",-1),D={class:"ordenacion"},L=i(" Ordenar por fecha estreno "),O=i(" Ordenar por popularidad "),q=i(" Ordenar por n\xFAmero votos "),E=t("br",null,null,-1),F=t("div",{class:"p-4"},[t("p",null,"\xBFSeguro que quieres eliminar el registro selecionado?")],-1),T={class:"flex flex-row-reverse gap-2 bg-gray-100 p-3"},j=i("Eliminar"),z=i("Cancelar");function M(n,e,u,o,m,f){const r=d("o-radio"),c=d("Grilla"),g=d("o-pagination"),v=d("o-button"),V=d("o-modal");return _(),y(G,null,[t("div",null,[t("div",h,[A,t("div",D,[l(r,{modelValue:o.orden,"onUpdate:modelValue":[e[0]||(e[0]=a=>o.orden=a),e[1]||(e[1]=a=>o.updatePage())],name:"name","native-value":"fecha"},{default:s(()=>[L]),_:1},8,["modelValue"]),l(r,{modelValue:o.orden,"onUpdate:modelValue":[e[2]||(e[2]=a=>o.orden=a),e[3]||(e[3]=a=>o.updatePage())],name:"name","native-value":"popularidad"},{default:s(()=>[O]),_:1},8,["modelValue"]),l(r,{modelValue:o.orden,"onUpdate:modelValue":[e[4]||(e[4]=a=>o.orden=a),e[5]||(e[5]=a=>o.updatePage())],name:"name","native-value":"numVotos"},{default:s(()=>[q]),_:1},8,["modelValue"])])]),l(c,{posts:o.posts.data,tipo:"pelicula",columnas:"5",gap:"12"},null,8,["posts"]),E,o.posts.current_page&&o.posts.data.length>0?(_(),U(g,{key:0,onChange:o.updatePage,total:o.posts.total,current:o.currentPage,"onUpdate:current":e[6]||(e[6]=a=>o.currentPage=a),"range-before":2,"range-after":3,order:"centered",size:"medium",simple:!1,rounded:!0,"per-page":o.posts.per_page},null,8,["onChange","total","current","per-page"])):B("",!0)]),l(V,{active:n.confirmDeleteActive,"onUpdate:active":e[9]||(e[9]=a=>n.confirmDeleteActive=a)},{default:s(()=>[F,t("div",T,[l(v,{variant:"danger",onClick:e[7]||(e[7]=a=>n.deletePost())},{default:s(()=>[j]),_:1}),l(v,{onClick:e[8]||(e[8]=a=>n.confirmDeleteActive=!1)},{default:s(()=>[z]),_:1})])]),_:1},8,["active"])],64)}const I=x(N,[["render",M]]);export{I as default};
