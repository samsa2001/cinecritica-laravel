import{G as f}from"./Grilla.d92650f3.js";import{_ as v,r,o as c,c as h,a as s,b as n,w as a,g as P,e as V,F as b,d as l}from"./main.0158bef8.js";import"./axios.0ae12843.js";const y={data(){return{posts:[],orden:"fecha",isLoading:!0,currentPage:1,confirmDeleteActive:!1,deletePostRow:""}},components:{Grilla:f},methods:{updatePage(){setTimeout(()=>{this.listPage()},100)},listPage(){this.isLoading=!0;const i=this.orden=="fecha"?"/api/peliculas/soloEspana?page="+this.currentPage:"/api/peliculas/votos?page="+this.currentPage;this.$axios.get(i).then(e=>{this.posts=e.data,this.isLoading=!1,this.byDate=!0}),this.currentPage>1&&(this.$route.query.page=this.currentPage)}},async mounted(){this.currentPage=this.$route.query.page?this.$route.query.page:1,this.listPage()}},C={class:"flex justify-between"},x=s("h1",null,"Cine Espa\xF1ol",-1),k={class:"block"},q=l(" Ordenar por fecha estreno "),w=l(" Ordenar por n\xFAmero votos "),D=s("br",null,null,-1),E=s("div",{class:"p-4"},[s("p",null,"\xBFSeguro que quieres eliminar el registro selecionado?")],-1),A={class:"flex flex-row-reverse gap-2 bg-gray-100 p-3"},B=l("Eliminar"),G=l("Cancelar");function N(i,e,U,L,t,u){const p=r("o-radio"),g=r("Grilla"),m=r("o-pagination"),d=r("o-button"),_=r("o-modal");return c(),h(b,null,[s("div",null,[s("div",C,[x,s("div",k,[n(p,{modelValue:t.orden,"onUpdate:modelValue":[e[0]||(e[0]=o=>t.orden=o),e[1]||(e[1]=o=>u.listPage())],name:"name","native-value":"fecha"},{default:a(()=>[q]),_:1},8,["modelValue"]),n(p,{modelValue:t.orden,"onUpdate:modelValue":[e[2]||(e[2]=o=>t.orden=o),e[3]||(e[3]=o=>u.listPage())],name:"name","native-value":"numVotos"},{default:a(()=>[w]),_:1},8,["modelValue"])])]),n(g,{posts:t.posts.data,tipo:"pelicula",columnas:"5",gap:"12"},null,8,["posts"]),D,t.posts.current_page&&t.posts.data.length>0?(c(),P(m,{key:0,onChange:u.updatePage,total:t.posts.total,current:t.currentPage,"onUpdate:current":e[4]||(e[4]=o=>t.currentPage=o),"range-before":2,"range-after":3,order:"centered",size:"medium",simple:!1,rounded:!0,"per-page":t.posts.per_page},null,8,["onChange","total","current","per-page"])):V("",!0)]),n(_,{active:t.confirmDeleteActive,"onUpdate:active":e[7]||(e[7]=o=>t.confirmDeleteActive=o)},{default:a(()=>[E,s("div",A,[n(d,{variant:"danger",onClick:e[5]||(e[5]=o=>i.deletePost())},{default:a(()=>[B]),_:1}),n(d,{onClick:e[6]||(e[6]=o=>t.confirmDeleteActive=!1)},{default:a(()=>[G]),_:1})])]),_:1},8,["active"])],64)}const j=v(y,[["render",N]]);export{j as default};
