import{_ as V,r as u,o as d,c as p,b as s,a as i,w as n,F as f,e as y,d as v,f as b,i as a,t as m}from"./main.decb8ae6.js";import"./axios.91e25212.js";const k={data(){return{posts:[],tipo:"curiosidades",isLoading:!0,currentPage:1,confirmDeleteActive:!1,deletePostRow:""}},methods:{updatePage(){setTimeout(()=>{this.listPage()},100)},listPage(){this.isLoading=!0;const r=this.tipo=="estrenos"?"/api/posts/estrenos?page="+this.currentPage:this.tipo=="taquilla"?"/api/posts/taquilla?page="+this.currentPage:"/api/posts/curiosidades?page="+this.currentPage;this.$axios.get(r).then(e=>{this.posts=e.data,this.isLoading=!1})},crearExcerpt(r){return r.length>150?r.slice(0,150).replace(/<\/?[^>]+>/ig," ")+"...":r}},async mounted(){(this.$route.query.tipo=="estrenos"||this.$route.query.tipo=="taquilla"||this.$route.query.tipo=="curiosidades")&&(this.tipo=this.$route.query.tipo),this.listPage()}},q={class:"flex justify-between"},x=s("h1",null,"Blog",-1),C={class:"block"},w=a(" Ver curiosidades "),B=a(" Ver \xFAltimos estrenoso "),D=a(" Ver datos de taquilla "),L={key:0},U={class:"post-titulo"},A={class:"post-fecha"},E={class:"post-excerpt"},N=a("Ver post"),F=s("br",null,null,-1),S=s("div",{class:"p-4"},[s("p",null,"\xBFSeguro que quieres eliminar el registro selecionado?")],-1),T={class:"flex flex-row-reverse gap-2 bg-gray-100 p-3"},j=a("Eliminar"),z=a("Cancelar");function Q(r,e,R,G,o,l){const c=u("o-radio"),g=u("router-link"),h=u("o-pagination"),_=u("o-button"),P=u("o-modal");return d(),p(f,null,[s("div",null,[s("div",q,[x,s("div",C,[i(c,{modelValue:o.tipo,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.tipo=t),e[1]||(e[1]=t=>l.listPage())],name:"name","native-value":"curiosidades"},{default:n(()=>[w]),_:1},8,["modelValue"]),i(c,{modelValue:o.tipo,"onUpdate:modelValue":[e[2]||(e[2]=t=>o.tipo=t),e[3]||(e[3]=t=>l.listPage())],name:"name","native-value":"estrenos"},{default:n(()=>[B]),_:1},8,["modelValue"]),i(c,{modelValue:o.tipo,"onUpdate:modelValue":[e[4]||(e[4]=t=>o.tipo=t),e[5]||(e[5]=t=>l.listPage())],name:"name","native-value":"taquilla"},{default:n(()=>[D]),_:1},8,["modelValue"])])]),o.posts?(d(),p("div",L,[(d(!0),p(f,null,y(o.posts.data,t=>(d(),p("div",{key:t.id,class:"border p-2 mb-4"},[s("h2",U,[i(g,{to:{name:"post",params:{slug:t.slug}}},{default:n(()=>[a(m(t.titulo),1)]),_:2},1032,["to"])]),s("div",A,m(t.fecha),1),s("div",E,m(l.crearExcerpt(t.contenido)),1),i(g,{to:{name:"post",params:{slug:t.slug}},class:"btn"},{default:n(()=>[N]),_:2},1032,["to"])]))),128))])):v("",!0),F,o.posts.current_page&&o.posts.data.length>0?(d(),b(h,{key:1,onChange:l.updatePage,total:o.posts.total,current:o.currentPage,"onUpdate:current":e[6]||(e[6]=t=>o.currentPage=t),"range-before":2,"range-after":3,order:"centered",size:"medium",simple:!1,rounded:!0,"per-page":o.posts.per_page},null,8,["onChange","total","current","per-page"])):v("",!0)]),i(P,{active:o.confirmDeleteActive,"onUpdate:active":e[9]||(e[9]=t=>o.confirmDeleteActive=t)},{default:n(()=>[S,s("div",T,[i(_,{variant:"danger",onClick:e[7]||(e[7]=t=>r.deletePost())},{default:n(()=>[j]),_:1}),i(_,{onClick:e[8]||(e[8]=t=>o.confirmDeleteActive=!1)},{default:n(()=>[z]),_:1})])]),_:1},8,["active"])],64)}const J=V(k,[["render",Q]]);export{J as default};
