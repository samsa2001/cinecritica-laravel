import{G as P}from"./Grilla.fff5f832.js";import{V as C}from"./Votar.d3d516c8.js";import{a as b}from"./axios.91e25212.js";import{_ as x,g as d,u as h,h as k,r as l,o as _,c as w,b as a,a as s,w as i,f as y,d as B,F as G,i as u}from"./main.decb8ae6.js";const N={components:{Grilla:P,Votar:C},setup(){const n=d([]),e=d(!0),p=d("fecha"),o=d(1),c=h();k(async()=>{c.params.page&&(o.value=c.params.page),r()});function g(){setTimeout(r,100)}function r(){e.value=!0;const m=p.value=="fecha"?"/api/peliculas?page="+o.value:"/api/peliculas/votos?page="+o.value;b.get(m).then(f=>{n.value=f.data})}return{posts:n,isLoading:e,orden:p,currentPage:o,updatePage:g}}},U={class:"flex lg:flex-row flex-col justify-between items-center"},A=a("h1",null,"Listado de pel\xEDculas",-1),D={class:"ordenacion"},L=u(" Ordenar por fecha estreno "),q=u(" Ordenar por n\xFAmero votos "),E=a("br",null,null,-1),F=a("div",{class:"p-4"},[a("p",null,"\xBFSeguro que quieres eliminar el registro selecionado?")],-1),O={class:"flex flex-row-reverse gap-2 bg-gray-100 p-3"},T=u("Eliminar"),j=u("Cancelar");function z(n,e,p,o,c,g){const r=l("o-radio"),m=l("Grilla"),f=l("o-pagination"),v=l("o-button"),V=l("o-modal");return _(),w(G,null,[a("div",null,[a("div",U,[A,a("div",D,[s(r,{modelValue:o.orden,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.orden=t),e[1]||(e[1]=t=>o.updatePage())],name:"name","native-value":"fecha"},{default:i(()=>[L]),_:1},8,["modelValue"]),s(r,{modelValue:o.orden,"onUpdate:modelValue":[e[2]||(e[2]=t=>o.orden=t),e[3]||(e[3]=t=>o.updatePage())],name:"name","native-value":"numVotos"},{default:i(()=>[q]),_:1},8,["modelValue"])])]),s(m,{posts:o.posts.data,tipo:"pelicula",columnas:"5",gap:"8"},null,8,["posts"]),E,o.posts.current_page&&o.posts.data.length>0?(_(),y(f,{key:0,onChange:o.updatePage,total:o.posts.total,current:o.currentPage,"onUpdate:current":e[4]||(e[4]=t=>o.currentPage=t),"range-before":2,"range-after":3,order:"centered",size:"medium",simple:!1,rounded:!0,"per-page":o.posts.per_page},null,8,["onChange","total","current","per-page"])):B("",!0)]),s(V,{active:n.confirmDeleteActive,"onUpdate:active":e[7]||(e[7]=t=>n.confirmDeleteActive=t)},{default:i(()=>[F,a("div",O,[s(v,{variant:"danger",onClick:e[5]||(e[5]=t=>n.deletePost())},{default:i(()=>[T]),_:1}),s(v,{onClick:e[6]||(e[6]=t=>n.confirmDeleteActive=!1)},{default:i(()=>[j]),_:1})])]),_:1},8,["active"])],64)}const H=x(N,[["render",z]]);export{H as default};
