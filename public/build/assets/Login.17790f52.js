import{_ as u,s as p,r as a,o as f,c,a as s,w as i,x as g,i as h}from"./main.f372e708.js";import"./axios.91e25212.js";const b={methods:{cleanErrorsForm(){this.errors.login=""},submit(){this.disabledBotton=!0,this.cleanErrorsForm(),this.$axios.post("/api/user/login",this.form).then(e=>{this.$store.commit("authStore/updateUser",e.data),this.$cookies.set("auth",e.data),setTimeout(()=>{this.disabledBotton=!1,this.$router.push({name:"list"})},1500),this.$oruga.notification.open({message:"Login exitoso",position:"bottom-right",duration:4e3,closable:!0})}).catch(e=>{this.disabledBotton=!1,e.response.data&&(this.errors.login=e.response.data)})}},computed:{...p("authStore",["isLoggedIn","user","token"])},data(){return{form:{email:"",password:""},disabledBotton:!1,errors:{login:""}}}},_=h("Enviar");function v(e,t,x,V,o,m){const n=a("o-input"),l=a("o-field"),d=a("o-button");return f(),c("form",{onSubmit:t[2]||(t[2]=g(r=>m.submit(),["prevent"]))},[s(l,{variant:o.errors.login?"danger":"primary",label:"Email"},{default:i(()=>[s(n,{modelValue:o.form.email,"onUpdate:modelValue":t[0]||(t[0]=r=>o.form.email=r)},null,8,["modelValue"])]),_:1},8,["variant"]),s(l,{variant:o.errors.login?"danger":"primary",message:o.errors.login,label:"Contrase\xF1a"},{default:i(()=>[s(n,{modelValue:o.form.password,"onUpdate:modelValue":t[1]||(t[1]=r=>o.form.password=r),type:"password"},null,8,["modelValue"])]),_:1},8,["variant","message"]),s(d,{disabled:o.disabledBotton,class:"float-right",variant:"primary","native-type":"submit"},{default:i(()=>[_]),_:1},8,["disabled"])],32)}const y=u(b,[["render",v]]);export{y as default};
