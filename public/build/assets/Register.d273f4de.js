import{_,s as b,r as u,o as i,c as n,a as r,w as l,b as c,t as p,d,x as h,i as V}from"./main.f372e708.js";import"./axios.91e25212.js";const v={methods:{cleanErrorsForm(){this.errors.login=""},submit(){this.disabledBotton=!0,this.cleanErrorsForm(),this.$axios.post("/api/user/register",this.form).then(t=>{this.$store.commit("authStore/updateUser",t.data),this.$cookies.set("auth",t.data),setTimeout(()=>{this.disabledBotton=!1,this.$router.push({name:"list"})},1500),this.$oruga.notification.open({message:"Login exitoso",position:"bottom-right",duration:4e3,closable:!0})}).catch(t=>{this.disabledBotton=!1,t.response.data&&(this.errors.login=t.response.data,console.log(t.response.data))})}},computed:{...b("authStore",["isLoggedIn","user","token"])},data(){return{form:{email:"",password:""},disabledBotton:!1,errors:{login:""}}}},y={key:0,class:"bg-red-200 border border-red-600 rounded-md m-2 p-2"},w={key:0},k={key:1},x={key:2},B=V("Enviar");function C(t,e,E,N,o,f){const a=u("o-input"),m=u("o-field"),g=u("o-button");return i(),n("form",{onSubmit:e[4]||(e[4]=h(s=>f.submit(),["prevent"]))},[r(m,{variant:o.errors.login?"danger":"primary",label:"Nombre"},{default:l(()=>[r(a,{modelValue:o.form.name,"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.name=s)},null,8,["modelValue"])]),_:1},8,["variant"]),r(m,{variant:o.errors.login?"danger":"primary",label:"Email"},{default:l(()=>[r(a,{modelValue:o.form.email,"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.email=s)},null,8,["modelValue"])]),_:1},8,["variant"]),r(m,{variant:o.errors.login?"danger":"primary",label:"Contrase\xF1a"},{default:l(()=>[r(a,{modelValue:o.form.password,"onUpdate:modelValue":e[2]||(e[2]=s=>o.form.password=s),type:"password"},null,8,["modelValue"])]),_:1},8,["variant"]),r(m,{variant:o.errors.login?"danger":"primary",label:"Confirmar contrase\xF1a"},{default:l(()=>[r(a,{modelValue:o.form.password_confirmation,"onUpdate:modelValue":e[3]||(e[3]=s=>o.form.password_confirmation=s),type:"password"},null,8,["modelValue"])]),_:1},8,["variant"]),o.errors.login?(i(),n("div",y,[c("ul",null,[o.errors.login.errors.name?(i(),n("li",w,p(o.errors.login.errors.name[0]),1)):d("",!0),o.errors.login.errors.email?(i(),n("li",k,p(o.errors.login.errors.email[0]),1)):d("",!0),o.errors.login.errors.password?(i(),n("li",x,p(o.errors.login.errors.password[0]),1)):d("",!0)])])):d("",!0),r(g,{disabled:o.disabledBotton,class:"float-right",variant:"primary","native-type":"submit"},{default:l(()=>[B]),_:1},8,["disabled"])],32)}const F=_(v,[["render",C]]);export{F as default};
